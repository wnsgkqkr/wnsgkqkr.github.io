---
layout: post
title: 토비스프링 4장 정리
author: 박준하
---


## 토비의 스프링 4장 정리
-----

2/25 월요일까지 토비의 스프링 4장을 읽는 미션과 블로그 글을 작성하는 미션이 겹쳐서 이렇게 블로그에 토비의 스프링 4장에 대하여 정리하게 되었습니다.
토비의 스프링 4장은 예외처리에 대한 내용을 다루고 있는데 첫 내용엔 잘못된 예외처리에 대한 내용을 다루고 있습니다.

### 잘못된 예외처리
 - 문법에 의한 try catch를 사용해 catch부분에 단순히 출력을 하거나 아무것도 안하는 행동을 통한 예외를 무시 (위험)
 - 무의미한 throws Exception을 이용한 예외 날리기 (위 보단 났지만 위험)
 
 ### 예외의 종류
  - Error : 에러는 시스템 문제로 대응방법이 없다 
  - 체크 예외(checked exception) : RuntimeException을 상속하지 않는 것들
  - 언체크 예외(unchecked exception) : RuntimeException을 상속한 것들
  
  자바에서는 
  체크예외는 처리를 강제한다.
  언체크(런타임) 예외는 catch나 throw를 강제적으로 안해줘도 괜찮다.
  
 ### 예외 처리 방법
 - 예외복구 : 예외상황을 파악하고 정상 상태로 돌려놓는다.
 - 예외회피 : 예외처리를 자신이 담당하지않고 호출한쪽으로 throw해서 넘긴다.
 - 예외전환 : 예외를 그대로 넘기는게 아니라 적절한 예외로 전환해서 넘긴다. 두가지 경우에 사용
             예외 그대로 던지는게 무의미한 경우, 예외를 처리하기 쉽고 단순하게 만들기 위해(보통 강제하는 체크예외를 언체크예외로 바꿀때)
             
 ### 예외처리 전략
 예외의 대부분은 복구 불가능하다. 그래서 항상 복구할 수 있는 예외가 아니라면 일단 언체크 예외로 만드는 경향이 있다.
 이를 낙관적인 예외처리 기법이라고 하는데 복구할 수 있는 예외는 없다고 가정하고 예외가 생겨도 런타임 예외이므로 시스템에서 해결해줄 것이고 필요한 경우에는 
 런타임예외라도 대응할 수 있기때문에 문제가 없다는 것
 
 반면에 애플리케이션 자체의 로직에 의해 의도적으로 발생하는 예외를 에플리케이션 예외라고 하는데 이때 사용하는 예외는 의도적으로 체크예외로 만든다.
 개발자가 잊지않고 발생 가능한 예외상황을 구현하도록 강제해주기위해
 
 ### 예외 전환
 스프링의 JdbcTemplate은 SQLException을 런타임예외인 DataAccessExcption으로 포장해서 던져준다.
 JDBC는 비표준 SQL과 SQLException의 호환문제가 존재하는데 이를 위해 스프링은 DataAccessException이라는 SQLException을 대체할 수 있는
 런타임 예외를 정의하는 뿐 아니라 서브클래스로 세분화된 예외 클래스를 정의하고 있다.
 DataAccessException은 JDBC의 SQLException을 전환할 뿐 아니라 그 외의 데이터 액세스 기술에서 발생하는 예외도 적용된다.
 DAO를 액세스 기술에 독립하기 위해 인터페이스를 사용하려면 다양한 Exception들이 던져지기 때문에 문제가 있는데
 이를 위해 DataAccessException의 계층구조 안에 다양한 데이터 액세스 기술을 정리해 놓았다.
 
 ### 독립적인 DAO 만들기
 좀 더 세분화된 Exception을 처리하기 위해 각각의 데이터 액세스 기술이 반환하는 예외는 다른데 이를 위해서는 직접 추상화된 예외를 정의해두고 
 각 예외로 전환해서 사용이 필요하다.
 1. 이를 위해서는 인터페이스를 적용하고
 2. 런타임 예외인 DataAccessException을 활용하고 
 3. 기술에 독립적인 추상화된 예외로의 전환이 필요하다.
 
 아직 토비의 스프링 질문에 한번도 제대로 답변을 못했는데 내일은 꼭 대답을 할 수 있었으면 좋겠다!
